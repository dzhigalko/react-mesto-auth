{"ast":null,"code":"class AuthApi {\n  constructor(options) {\n    const {\n      baseUrl\n    } = options;\n    this._baseUrl = baseUrl.replace(/\\/+$/, '');\n  }\n  _makeRequest(url, options) {\n    options = options || {};\n    const {\n      method = \"GET\",\n      body\n    } = options;\n    let jsonBody = null;\n    if (body) {\n      jsonBody = JSON.stringify(body);\n    }\n    const relativeUrl = url.replace(/^\\/+/, '');\n    return fetch(`${this._baseUrl}/${relativeUrl}`, {\n      method: method,\n      body: jsonBody,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      if (!res.ok) {\n        return Promise.reject({\n          \"response\": res\n        });\n      }\n      return res.json();\n    });\n  }\n  signup(email, password) {\n    return this._makeRequest(\"/signup\", {\n      method: \"POST\",\n      body: {\n        password: password,\n        email: email\n      }\n    });\n  }\n}\nconst authApi = new AuthApi({\n  baseUrl: \"https://auth.nomoreparties.co\"\n});\nexport default authApi;","map":{"version":3,"names":["AuthApi","constructor","options","baseUrl","_baseUrl","replace","_makeRequest","url","method","body","jsonBody","JSON","stringify","relativeUrl","fetch","headers","then","res","ok","Promise","reject","json","signup","email","password","authApi"],"sources":["/Users/d.zhigalko/dev/mesto-react/src/utils/authApi.js"],"sourcesContent":["class AuthApi {\n  constructor(options) {\n    const { baseUrl } = options;\n\n    this._baseUrl = baseUrl.replace(/\\/+$/, '');\n  }\n\n  _makeRequest(url, options) {\n    options = options || {}\n    const { method = \"GET\", body } = options;\n    let jsonBody = null;\n\n    if (body) {\n      jsonBody = JSON.stringify(body)\n    }\n\n    const relativeUrl = url.replace(/^\\/+/, '');\n    return fetch(`${this._baseUrl}/${relativeUrl}`, {\n      method: method,\n      body: jsonBody,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n      .then((res) => {\n        if (!res.ok) {\n          return Promise.reject({\"response\": res})\n        }\n\n        return res.json()\n      });\n  }\n\n  signup(email, password) {\n    return this._makeRequest(\"/signup\", {\n      method: \"POST\",\n      body: {\n        password: password,\n        email: email\n      }\n    })\n  }\n}\n\nconst authApi = new AuthApi({\n  baseUrl: \"https://auth.nomoreparties.co\"\n})\nexport default authApi"],"mappings":"AAAA,MAAMA,OAAO,CAAC;EACZC,WAAWA,CAACC,OAAO,EAAE;IACnB,MAAM;MAAEC;IAAQ,CAAC,GAAGD,OAAO;IAE3B,IAAI,CAACE,QAAQ,GAAGD,OAAO,CAACE,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;EAC7C;EAEAC,YAAYA,CAACC,GAAG,EAAEL,OAAO,EAAE;IACzBA,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;IACvB,MAAM;MAAEM,MAAM,GAAG,KAAK;MAAEC;IAAK,CAAC,GAAGP,OAAO;IACxC,IAAIQ,QAAQ,GAAG,IAAI;IAEnB,IAAID,IAAI,EAAE;MACRC,QAAQ,GAAGC,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC;IACjC;IAEA,MAAMI,WAAW,GAAGN,GAAG,CAACF,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;IAC3C,OAAOS,KAAK,CAAE,GAAE,IAAI,CAACV,QAAS,IAAGS,WAAY,EAAC,EAAE;MAC9CL,MAAM,EAAEA,MAAM;MACdC,IAAI,EAAEC,QAAQ;MACdK,OAAO,EAAE;QACP,cAAc,EAAE;MAClB;IACF,CAAC,CAAC,CACCC,IAAI,CAAEC,GAAG,IAAK;MACb,IAAI,CAACA,GAAG,CAACC,EAAE,EAAE;QACX,OAAOC,OAAO,CAACC,MAAM,CAAC;UAAC,UAAU,EAAEH;QAAG,CAAC,CAAC;MAC1C;MAEA,OAAOA,GAAG,CAACI,IAAI,CAAC,CAAC;IACnB,CAAC,CAAC;EACN;EAEAC,MAAMA,CAACC,KAAK,EAAEC,QAAQ,EAAE;IACtB,OAAO,IAAI,CAAClB,YAAY,CAAC,SAAS,EAAE;MAClCE,MAAM,EAAE,MAAM;MACdC,IAAI,EAAE;QACJe,QAAQ,EAAEA,QAAQ;QAClBD,KAAK,EAAEA;MACT;IACF,CAAC,CAAC;EACJ;AACF;AAEA,MAAME,OAAO,GAAG,IAAIzB,OAAO,CAAC;EAC1BG,OAAO,EAAE;AACX,CAAC,CAAC;AACF,eAAesB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}