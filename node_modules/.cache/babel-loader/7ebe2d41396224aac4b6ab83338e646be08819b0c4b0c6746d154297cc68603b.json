{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nexport default function useForm() {\n  _s();\n  const [values, setValues] = useState({});\n  const [validity, setValidity] = useState({});\n  const [isFormValid, setIsFormValid] = useState(false);\n  const [requiredFields, setRequiredFields] = useState([]);\n  const handleChange = event => {\n    const {\n      value,\n      name,\n      validationMessage\n    } = event.target;\n    const isValid = event.target.checkValidity();\n    const newValidity = {\n      ...validity,\n      [name]: isValid ? null : validationMessage\n    };\n    const newIsFormValid = Object.values(newValidity).every(v => v === null);\n    setValues({\n      ...values,\n      [name]: value\n    });\n    setValidity(newValidity);\n    setIsFormValid(newIsFormValid);\n  };\n  const resetForm = resetValues => {\n    resetValues = resetValues || {};\n    const newValidity = {};\n    const newValues = {};\n    Object.keys(values).forEach(key => {\n      newValidity[key] = null;\n    });\n    Object.keys(values).forEach(key => {\n      newValues[key] = resetValues[key] || '';\n    });\n    setValidity(newValidity);\n    setValues(newValues);\n  };\n  const registerInput = _ref => {\n    let {\n      name,\n      required\n    } = _ref;\n    setValues({\n      ...values,\n      [name]: ''\n    });\n    if (required) {\n      setRequiredFields([...requiredFields, name]);\n    }\n    return {\n      name,\n      required\n    };\n  };\n  return {\n    values,\n    handleChange,\n    isFormValid,\n    validity,\n    resetForm,\n    registerInput\n  };\n}\n_s(useForm, \"4uzaWDb4rij2GdLXGOgjO+M6y7s=\");","map":{"version":3,"names":["useState","useForm","_s","values","setValues","validity","setValidity","isFormValid","setIsFormValid","requiredFields","setRequiredFields","handleChange","event","value","name","validationMessage","target","isValid","checkValidity","newValidity","newIsFormValid","Object","every","v","resetForm","resetValues","newValues","keys","forEach","key","registerInput","_ref","required"],"sources":["/Users/d.zhigalko/dev/react-mesto-auth/src/hooks/useForm.js"],"sourcesContent":["import {useState} from \"react\";\n\nexport default function useForm() {\n  const [values, setValues] = useState({})\n  const [validity, setValidity] = useState({})\n  const [isFormValid, setIsFormValid] = useState(false)\n  const [requiredFields, setRequiredFields] = useState([])\n\n  const handleChange = (event) => {\n    const {value, name, validationMessage} = event.target\n    const isValid = event.target.checkValidity()\n    const newValidity = {...validity, [name]: isValid ? null : validationMessage}\n    const newIsFormValid = Object.values(newValidity).every(v => v === null)\n\n    setValues({...values, [name]: value})\n    setValidity(newValidity)\n    setIsFormValid(newIsFormValid)\n  }\n\n  const resetForm = (resetValues) => {\n    resetValues = resetValues || {}\n    const newValidity = {}\n    const newValues = {}\n\n    Object.keys(values).forEach((key) => {\n      newValidity[key] = null\n    })\n\n    Object.keys(values).forEach((key) => {\n      newValues[key] = resetValues[key] || ''\n    })\n\n    setValidity(newValidity)\n    setValues(newValues)\n  }\n\n  const registerInput = ({ name, required }) => {\n    setValues({...values, [name]: ''})\n    if (required) {\n      setRequiredFields([...requiredFields, name])\n    }\n    return { name, required }\n  }\n\n  return {values, handleChange, isFormValid, validity, resetForm, registerInput}\n}"],"mappings":";AAAA,SAAQA,QAAQ,QAAO,OAAO;AAE9B,eAAe,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EAChC,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGJ,QAAQ,CAAC,CAAC,CAAC,CAAC;EACxC,MAAM,CAACK,QAAQ,EAAEC,WAAW,CAAC,GAAGN,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC5C,MAAM,CAACO,WAAW,EAAEC,cAAc,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACS,cAAc,EAAEC,iBAAiB,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAExD,MAAMW,YAAY,GAAIC,KAAK,IAAK;IAC9B,MAAM;MAACC,KAAK;MAAEC,IAAI;MAAEC;IAAiB,CAAC,GAAGH,KAAK,CAACI,MAAM;IACrD,MAAMC,OAAO,GAAGL,KAAK,CAACI,MAAM,CAACE,aAAa,CAAC,CAAC;IAC5C,MAAMC,WAAW,GAAG;MAAC,GAAGd,QAAQ;MAAE,CAACS,IAAI,GAAGG,OAAO,GAAG,IAAI,GAAGF;IAAiB,CAAC;IAC7E,MAAMK,cAAc,GAAGC,MAAM,CAAClB,MAAM,CAACgB,WAAW,CAAC,CAACG,KAAK,CAACC,CAAC,IAAIA,CAAC,KAAK,IAAI,CAAC;IAExEnB,SAAS,CAAC;MAAC,GAAGD,MAAM;MAAE,CAACW,IAAI,GAAGD;IAAK,CAAC,CAAC;IACrCP,WAAW,CAACa,WAAW,CAAC;IACxBX,cAAc,CAACY,cAAc,CAAC;EAChC,CAAC;EAED,MAAMI,SAAS,GAAIC,WAAW,IAAK;IACjCA,WAAW,GAAGA,WAAW,IAAI,CAAC,CAAC;IAC/B,MAAMN,WAAW,GAAG,CAAC,CAAC;IACtB,MAAMO,SAAS,GAAG,CAAC,CAAC;IAEpBL,MAAM,CAACM,IAAI,CAACxB,MAAM,CAAC,CAACyB,OAAO,CAAEC,GAAG,IAAK;MACnCV,WAAW,CAACU,GAAG,CAAC,GAAG,IAAI;IACzB,CAAC,CAAC;IAEFR,MAAM,CAACM,IAAI,CAACxB,MAAM,CAAC,CAACyB,OAAO,CAAEC,GAAG,IAAK;MACnCH,SAAS,CAACG,GAAG,CAAC,GAAGJ,WAAW,CAACI,GAAG,CAAC,IAAI,EAAE;IACzC,CAAC,CAAC;IAEFvB,WAAW,CAACa,WAAW,CAAC;IACxBf,SAAS,CAACsB,SAAS,CAAC;EACtB,CAAC;EAED,MAAMI,aAAa,GAAGC,IAAA,IAAwB;IAAA,IAAvB;MAAEjB,IAAI;MAAEkB;IAAS,CAAC,GAAAD,IAAA;IACvC3B,SAAS,CAAC;MAAC,GAAGD,MAAM;MAAE,CAACW,IAAI,GAAG;IAAE,CAAC,CAAC;IAClC,IAAIkB,QAAQ,EAAE;MACZtB,iBAAiB,CAAC,CAAC,GAAGD,cAAc,EAAEK,IAAI,CAAC,CAAC;IAC9C;IACA,OAAO;MAAEA,IAAI;MAAEkB;IAAS,CAAC;EAC3B,CAAC;EAED,OAAO;IAAC7B,MAAM;IAAEQ,YAAY;IAAEJ,WAAW;IAAEF,QAAQ;IAAEmB,SAAS;IAAEM;EAAa,CAAC;AAChF;AAAC5B,EAAA,CA3CuBD,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}