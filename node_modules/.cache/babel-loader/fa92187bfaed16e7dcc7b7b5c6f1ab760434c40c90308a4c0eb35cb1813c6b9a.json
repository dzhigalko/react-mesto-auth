{"ast":null,"code":"export default class Api {\n  constructor(options) {\n    const {\n      baseUrl\n    } = options;\n    this._baseUrl = baseUrl.replace(/\\/+$/, '');\n  }\n  _makeRequest(url, options) {\n    options = options || {};\n    const {\n      method = \"GET\",\n      body,\n      headers = {}\n    } = options;\n    let jsonBody = null;\n    if (body) {\n      jsonBody = JSON.stringify(body);\n    }\n    const relativeUrl = url.replace(/^\\/+/, '');\n    return fetch(`${this._baseUrl}/${relativeUrl}`, {\n      method: method,\n      body: jsonBody,\n      headers: {\n        ...headers,\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      if (!res.ok) {\n        return Promise.reject({\n          \"response\": res\n        });\n      }\n      return res.json();\n    });\n  }\n}","map":{"version":3,"names":["Api","constructor","options","baseUrl","_baseUrl","replace","_makeRequest","url","method","body","headers","jsonBody","JSON","stringify","relativeUrl","fetch","then","res","ok","Promise","reject","json"],"sources":["/Users/d.zhigalko/dev/react-mesto-auth/src/utils/Api.js"],"sourcesContent":["export default class Api {\n  constructor(options) {\n    const { baseUrl } = options\n\n    this._baseUrl = baseUrl.replace(/\\/+$/, '')\n  }\n\n  _makeRequest(url, options) {\n    options = options || {}\n    const { method = \"GET\", body, headers = {} } = options\n    let jsonBody = null;\n\n    if (body) {\n      jsonBody = JSON.stringify(body)\n    }\n\n    const relativeUrl = url.replace(/^\\/+/, '')\n    return fetch(`${this._baseUrl}/${relativeUrl}`, {\n      method: method,\n      body: jsonBody,\n      headers: {\n        ...headers,\n        'Content-Type': 'application/json'\n      }\n    })\n      .then((res) => {\n        if (!res.ok) {\n          return Promise.reject({\"response\": res})\n        }\n\n        return res.json()\n      });\n  }\n}"],"mappings":"AAAA,eAAe,MAAMA,GAAG,CAAC;EACvBC,WAAWA,CAACC,OAAO,EAAE;IACnB,MAAM;MAAEC;IAAQ,CAAC,GAAGD,OAAO;IAE3B,IAAI,CAACE,QAAQ,GAAGD,OAAO,CAACE,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;EAC7C;EAEAC,YAAYA,CAACC,GAAG,EAAEL,OAAO,EAAE;IACzBA,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;IACvB,MAAM;MAAEM,MAAM,GAAG,KAAK;MAAEC,IAAI;MAAEC,OAAO,GAAG,CAAC;IAAE,CAAC,GAAGR,OAAO;IACtD,IAAIS,QAAQ,GAAG,IAAI;IAEnB,IAAIF,IAAI,EAAE;MACRE,QAAQ,GAAGC,IAAI,CAACC,SAAS,CAACJ,IAAI,CAAC;IACjC;IAEA,MAAMK,WAAW,GAAGP,GAAG,CAACF,OAAO,CAAC,MAAM,EAAE,EAAE,CAAC;IAC3C,OAAOU,KAAK,CAAE,GAAE,IAAI,CAACX,QAAS,IAAGU,WAAY,EAAC,EAAE;MAC9CN,MAAM,EAAEA,MAAM;MACdC,IAAI,EAAEE,QAAQ;MACdD,OAAO,EAAE;QACP,GAAGA,OAAO;QACV,cAAc,EAAE;MAClB;IACF,CAAC,CAAC,CACCM,IAAI,CAAEC,GAAG,IAAK;MACb,IAAI,CAACA,GAAG,CAACC,EAAE,EAAE;QACX,OAAOC,OAAO,CAACC,MAAM,CAAC;UAAC,UAAU,EAAEH;QAAG,CAAC,CAAC;MAC1C;MAEA,OAAOA,GAAG,CAACI,IAAI,CAAC,CAAC;IACnB,CAAC,CAAC;EACN;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}